!function(){"use strict";angular.module("angularSliderTabs",[])}(),function(){"use strict";angular.module("angularSliderTabs").directive("sliderTab",function(){return{require:"^sliderTabs",restrict:"EA",scope:{onSelect:"&"},link:function(a,b,c,d){d.add(a);var e;b.on("mousedown touchstart",function(a){e=a.pageX||a.touches[0].pageX}),b.on("mouseup touchend",function(b){var c=b.pageX||b.changedTouches[0].pageX;angular.isDefined(c)&&e===c&&d.slideToItem(a)}),a.$on("$destroy",function(){d.remove(a)})}}})}(),function(){"use strict";angular.module("angularSliderTabs").directive("sliderTabs",["$window","$document","$timeout",function(a,b,c){return{restrict:"EA",templateUrl:"template/slider-tabs/slider-tabs.tpl.html",transclude:!0,replace:!0,scope:{tabsVisible:"=",activeIndex:"=?"},controller:["$scope","$element",function(d,e){function f(){c.cancel(v),v=c(function(){o=A.length,1>o||(p=e[0].offsetWidth/(z+1),q=p+15,s=0,t=-1*(o*p-.5*p-e[0].offsetWidth),u=0,x.css({width:p*o+"px"}),y.css({width:q+"px","margin-left":q/2*-1+"px"}),angular.isDefined(d.activeIndex)||(d.activeIndex=1+Math.floor(o/3)),m(d.activeIndex))},50)}function g(a){a.stopPropagation(),a.preventDefault(),s=r=j()-(a.pageX||a.touches[0].pageX),b.on("mousemove touchmove",h),b.on("mouseup touchend touchcancel",i)}function h(a){a.stopPropagation(),a.preventDefault(),r=s+(a.pageX||a.touches[0].pageX),t>r?r=t:r>u&&(r=u),x.css({"-webkit-transform":"translate3d("+parseInt(r,10)+"px, 0, 0)"})}function i(a){if(a.stopPropagation(),a.preventDefault(),s!==r){var c=k();w.slideTo(c)}b.off("mousemove touchmove",h),b.off("mouseup touchend touchcancel",i)}function j(){var b=a.getComputedStyle(x[0],null).getPropertyValue("-webkit-transform"),c=b.match(/matrix(?:(3d)\(-{0,1}\d+(?:, -{0,1}\d+)  *(?:, (-{0,1}\d+))(?:, (-{0,1}\d+))(?:, (-{0,1}\d+)), -{0,1}\d+\)|\(-{0,1}\d+(?:, -{0,1}\d+)*(?:, (-{0,1}\d+))(?:, (-{0,1}\d+))\))/);return c?parseInt(c[c.length-2],10):0}function k(){return Math.round((Math.abs(r)+(z/2+1)*p)/p)-1}function l(a){var b=o/3;b>a?m(a+b,!0):a>2*b&&m(a-b,!0)}function m(a,b){var c=A[a];s=r=-1*((a+1)*p-(z/2+1)*p),x.css({"-webkit-transform":"translate3d("+parseInt(r,10)+"px, 0, 0)"}),d.activeIndex=a,angular.isDefined(c.onSelect)&&!b&&c.onSelect()}function n(){var b=function(){f(),a.removeEventListener("resize",b)};a.addEventListener("resize",b)}var o,p,q,r,s,t,u,v,w=this,x=angular.element(e[0].querySelector(".scroll")),y=angular.element(e[0].querySelector(".slide-container")),z=d.tabsVisible||3,A=[];w.add=function(a){A.push(a),f()},w.remove=function(a){A=_.without(A,a),f()},w.slideToItem=function(a){angular.forEach(A,function(b,c){return b===a?(w.slideTo(c),!1):void 0})},w.slideTo=function(a){x.addClass("snap"),m(a),c(function(){x.removeClass("snap"),l(a)},100)},a.addEventListener("orientationchange",n,!1),d.$on("$destroy",function(){c.cancel(v),a.removeEventListener("orientationchange",n,!1)}),e.on("mousedown touchstart",g)}]}}])}(),angular.module("angularSliderTabs").run(["$templateCache",function(a){"use strict";a.put("template/slider-tabs/slider-tabs.tpl.html",'<div class="slider-tabs"><div class="viewport"><div class="scroll" ng-transclude></div></div><div class="slide-container"></div></div>')}]);